<?xml version="1.0" encoding="UTF-8"?>
<!--
     This is example metadata only. Do *NOT* supply it as is without review,
     and do *NOT* provide it in real time to your partners.

     This metadata is not dynamic - it will not change as your configuration changes.
-->
<EntityDescriptor  xmlns="urn:oasis:names:tc:SAML:2.0:metadata" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:shibmd="urn:mace:shibboleth:metadata:1.0" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:mdui="urn:oasis:names:tc:SAML:metadata:ui" xmlns:req-attr="urn:oasis:names:tc:SAML:protocol:ext:req-attr" validUntil="2021-01-27T17:56:56.891Z" entityID="https://{{ shibboleth_host }}/idp/shibboleth">

    <IDPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol urn:oasis:names:tc:SAML:1.1:protocol urn:mace:shibboleth:1.0">

        <Extensions>
            <shibmd:Scope regexp="false">{{ shibboleth_host }}</shibmd:Scope>
<!--
    Fill in the details for your IdP here 

            <mdui:UIInfo>
                <mdui:DisplayName xml:lang="en">A Name for the IdP at {{ shibboleth_host }}</mdui:DisplayName>
                <mdui:Description xml:lang="en">Enter a description of your IdP at {{ shibboleth_host }}</mdui:Description>
                <mdui:Logo height="80" width="80">https://{{ shibboleth_host }}/Path/To/Logo.png</mdui:Logo>
            </mdui:UIInfo>
-->
        </Extensions>

        <!-- First signing certificate is BackChannel, the Second is FrontChannel -->
        <KeyDescriptor use="signing">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
{{ shibboleth_backchannelsigning_cert }}
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>
        <KeyDescriptor use="signing">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
{{ shibboleth_frontchannelsigning_cert }}
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>
        <KeyDescriptor use="encryption">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
MIIEdTCCAt2gAwIBAgIUaOX8HknN6TGEX9fRaaGSAsahFKswDQYJKoZIhvcNAQEL
BQAwLTErMCkGA1UEAwwic2hpYmJvbGV0aC5qcGF5bmUuZG8ucmFuY2hlci5zcGFj
ZTAeFw0yMTAxMjcxNzU0NDdaFw00MTAxMjcxNzU0NDdaMC0xKzApBgNVBAMMInNo
aWJib2xldGguanBheW5lLmRvLnJhbmNoZXIuc3BhY2UwggGiMA0GCSqGSIb3DQEB
AQUAA4IBjwAwggGKAoIBgQCXyz7o7sbOFu1WGtspi9XSGHdxGBjxf81IyL8VwO/O
YrRm1i/gYg26MpjLB/5NIpw33ACrFLTZCGCB3jdjhqsWHRlLzFvgUs6jywpy422X
1MCilhJpa20Ur+9uLGebH8OlGpHBN996m1elhcQDOiIBwm+h0CGASg8dcX8kewsM
PARYKgx2zRY4QDolAkjCU4aP7bP0UjRrtWeJ7STpV3kYdVveTuDA2ywwh9ziIuL1
WiMVZXI969LQxmX8UtJ1nPCvWiPZsYMvnw1V7L0dDXH0ekGTzggnqW5bNd69HCWc
hCXN5skXlS/C+Kbz+QGS5U5bJoXzlWiy/6NWm1VwwXZ5d8tr8/QnTnAIbhEVHf2S
LeGFgkkUBwWrs3HV7WpR9ym8c2Kg/GrqGG9S5kjpgaCP/1AlAr2KuCZghGlVvFwJ
mCCpZJfI36vQNwgzUTkx+mekreFYw9oukc+/dFq8611LEOYuK4khWVXWlogFT+dS
0+5ugEm2JkL1+l/AVTkgXtkCAwEAAaOBjDCBiTAdBgNVHQ4EFgQUE9V/61oCSQVW
1SBQpInnLV6B0rcwaAYDVR0RBGEwX4Iic2hpYmJvbGV0aC5qcGF5bmUuZG8ucmFu
Y2hlci5zcGFjZYY5aHR0cHM6Ly9zaGliYm9sZXRoLmpwYXluZS5kby5yYW5jaGVy
LnNwYWNlL2lkcC9zaGliYm9sZXRoMA0GCSqGSIb3DQEBCwUAA4IBgQAvLEBFq6C/
jjsJkbYQG5i8c9+MvO7c4KJyY559PzV55CrOLygm4ow8n31+Z8N+l7Mx70h+YY6W
PSJt/XVeTWeRiWqPNl17v4HBpWWJdiugNTYUqGzvokSsxayAUBH03eOeNFs6Dnue
PVuOH0xG+g3HqWI2zWqhwADD6DIys2nXAs65L/0pjv0E8yc6BblTLK+68BCuE4n6
D9gdcZPD3NHUmA2WqOexHBzf9NtVtenZqB2bT3uANeTd7CH8sl4zTPvwTAUHLeN5
wiPtEm5LQ0wlJWhZxhHWgEBu8JNTIrQNAZaejid0bWJZYW45K25i9HFVmls3I0WZ
KgCE7Y7BbSxiNYg9O8VgueRU8sm34xo51ap+fQTFw59q9foEf1IlGiDG+qsYlsUI
Pho6Yzaq/zjxzcjUdNGgyW6ZegCw0Dj8foeqaIFBZyTjtPmENrEMNc/zuaNhCK9e
xtK/jC6xdqUwlenGb1Udl3sy1P10IQikoycwTBxg6epkMYctYTxGoVA=
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>

        <ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://{{ shibboleth_host }}:8443/idp/profile/SAML2/SOAP/ArtifactResolution" index="2"/>
        <ArtifactResolutionService Binding="urn:oasis:names:tc:SAML:1.0:bindings:SOAP-binding" Location="https://{{ shibboleth_host }}:8443/idp/profile/SAML1/SOAP/ArtifactResolution" index="1"/>

        <!--
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/POST-SimpleSign/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/POST/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/Redirect/SLO"/>
        <SingleLogoutService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://{{ shibboleth_host }}:8443/idp/profile/SAML2/SOAP/SLO"/>
        -->

        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" req-attr:supportsRequestedAttributes="true" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/POST/SSO"/>
        <SingleSignOnService Binding="urn:mace:shibboleth:1.0:profiles:AuthnRequest" Location="https://{{ shibboleth_host }}/idp/profile/Shibboleth/SSO"/>
        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign" req-attr:supportsRequestedAttributes="true" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/POST-SimpleSign/SSO"/>
        <SingleSignOnService Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" req-attr:supportsRequestedAttributes="true" Location="https://{{ shibboleth_host }}/idp/profile/SAML2/Redirect/SSO"/>

    </IDPSSODescriptor>


    <AttributeAuthorityDescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:1.1:protocol">

        <Extensions>
            <shibmd:Scope regexp="false">jpayne.do.rancher.space</shibmd:Scope>
        </Extensions>

        <!-- First signing certificate is BackChannel, the Second is FrontChannel -->
        <KeyDescriptor use="signing">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
{{ shibboleth_backchannelsigning_cert }}
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>
        <KeyDescriptor use="signing">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
{{ shibboleth_frontchannelsigning_cert }}
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>
        <KeyDescriptor use="encryption">
            <ds:KeyInfo>
                    <ds:X509Data>
                        <ds:X509Certificate>
MIIEdTCCAt2gAwIBAgIUaOX8HknN6TGEX9fRaaGSAsahFKswDQYJKoZIhvcNAQEL
BQAwLTErMCkGA1UEAwwic2hpYmJvbGV0aC5qcGF5bmUuZG8ucmFuY2hlci5zcGFj
ZTAeFw0yMTAxMjcxNzU0NDdaFw00MTAxMjcxNzU0NDdaMC0xKzApBgNVBAMMInNo
aWJib2xldGguanBheW5lLmRvLnJhbmNoZXIuc3BhY2UwggGiMA0GCSqGSIb3DQEB
AQUAA4IBjwAwggGKAoIBgQCXyz7o7sbOFu1WGtspi9XSGHdxGBjxf81IyL8VwO/O
YrRm1i/gYg26MpjLB/5NIpw33ACrFLTZCGCB3jdjhqsWHRlLzFvgUs6jywpy422X
1MCilhJpa20Ur+9uLGebH8OlGpHBN996m1elhcQDOiIBwm+h0CGASg8dcX8kewsM
PARYKgx2zRY4QDolAkjCU4aP7bP0UjRrtWeJ7STpV3kYdVveTuDA2ywwh9ziIuL1
WiMVZXI969LQxmX8UtJ1nPCvWiPZsYMvnw1V7L0dDXH0ekGTzggnqW5bNd69HCWc
hCXN5skXlS/C+Kbz+QGS5U5bJoXzlWiy/6NWm1VwwXZ5d8tr8/QnTnAIbhEVHf2S
LeGFgkkUBwWrs3HV7WpR9ym8c2Kg/GrqGG9S5kjpgaCP/1AlAr2KuCZghGlVvFwJ
mCCpZJfI36vQNwgzUTkx+mekreFYw9oukc+/dFq8611LEOYuK4khWVXWlogFT+dS
0+5ugEm2JkL1+l/AVTkgXtkCAwEAAaOBjDCBiTAdBgNVHQ4EFgQUE9V/61oCSQVW
1SBQpInnLV6B0rcwaAYDVR0RBGEwX4Iic2hpYmJvbGV0aC5qcGF5bmUuZG8ucmFu
Y2hlci5zcGFjZYY5aHR0cHM6Ly9zaGliYm9sZXRoLmpwYXluZS5kby5yYW5jaGVy
LnNwYWNlL2lkcC9zaGliYm9sZXRoMA0GCSqGSIb3DQEBCwUAA4IBgQAvLEBFq6C/
jjsJkbYQG5i8c9+MvO7c4KJyY559PzV55CrOLygm4ow8n31+Z8N+l7Mx70h+YY6W
PSJt/XVeTWeRiWqPNl17v4HBpWWJdiugNTYUqGzvokSsxayAUBH03eOeNFs6Dnue
PVuOH0xG+g3HqWI2zWqhwADD6DIys2nXAs65L/0pjv0E8yc6BblTLK+68BCuE4n6
D9gdcZPD3NHUmA2WqOexHBzf9NtVtenZqB2bT3uANeTd7CH8sl4zTPvwTAUHLeN5
wiPtEm5LQ0wlJWhZxhHWgEBu8JNTIrQNAZaejid0bWJZYW45K25i9HFVmls3I0WZ
KgCE7Y7BbSxiNYg9O8VgueRU8sm34xo51ap+fQTFw59q9foEf1IlGiDG+qsYlsUI
Pho6Yzaq/zjxzcjUdNGgyW6ZegCw0Dj8foeqaIFBZyTjtPmENrEMNc/zuaNhCK9e
xtK/jC6xdqUwlenGb1Udl3sy1P10IQikoycwTBxg6epkMYctYTxGoVA=
                        </ds:X509Certificate>
                    </ds:X509Data>
            </ds:KeyInfo>

        </KeyDescriptor>

        <AttributeService Binding="urn:oasis:names:tc:SAML:1.0:bindings:SOAP-binding" Location="https://{{ shibboleth_host }}:8443/idp/profile/SAML1/SOAP/AttributeQuery"/>
        <!-- <AttributeService Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP" Location="https://{{ shibboleth_host }}:8443/idp/profile/SAML2/SOAP/AttributeQuery"/> -->
        <!-- If you uncomment the above you should add urn:oasis:names:tc:SAML:2.0:protocol to the protocolSupportEnumeration above -->

    </AttributeAuthorityDescriptor>

</EntityDescriptor>
